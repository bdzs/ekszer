; CDW-hez Hiba string generalo rutin
; TP5-hoz TASM formаtumban

.MODEL TPASCAL
.CODE

ERRORSTR PROC FAR NUM: WORD, STRIN: DWORD

PUBLIC ERRORSTR

      PUSH   AX
      PUSH   BX
      PUSH   CX
      PUSH   DX
      PUSH   DI
      PUSH   SI
      PUSH   DS
      PUSH   ES

      PUSH   CS
      POP    ES

      MOV    DI,OFFSET STRINGS

      MOV    AL,00
      MOV    BX,NUM
      DEC    BX

      CLD
      MOV    CX,OFFSET VEGE - OFFSET STRINGS

CIK:  OR     BX,BX
      JZ     KESZ

      REPNZ  SCASB
      JNZ    NINCS

      DEC    BX
      JMP    SHORT CIK

NINCS:LES    DI,STRIN
      XOR    AL,AL
      STOSB
      JMP    SHORT VEG

KESZ: MOV    CX,50
      MOV    SI,DI
      REPNZ  SCASB
      SUB    DI,SI
      MOV    CX,DI

      LES    DI,STRIN
      DEC    CL
      MOV    AL,CL
      STOSB
      PUSH   CS
      POP    DS
      REPZ   MOVSB

VEG:  POP    ES
      POP    DS
      POP    SI
      POP    DI
      POP    DX
      POP    CX
      POP    BX
      POP    AX

      RET

ERRORSTR ENDP

STRINGS:

DB   "Файл не найден : ",00           ; {  1 }
DB   "Подкаталог не существует ",00          ; {  2 }
DB   "Ошибка при загрузке файла ",00           ; {  3 }
DB   "Память не достаточна",00              ; {  4 }
DB   "Слышком длинная дефиниция",00            ; {  5 }
DB   "Ошибка при чтении диска ",00            ; {  6 }
DB   "Только 16 макро разрешается",00      ; {  7 }
DB   "Текст не найден ",00          ; {  8 }
DB   "Набор знаков не найден",00   ; {  9 }
DB   "эээ Память заполнена эээ",00       ; { 10 }
DB   "Принтер не определен",00      ; { 11 }
DB   "Имя файла повторяется : ",00             ; { 12 }
DB   "Макро файл не пригоден: ",00      ; { 13 }
DB   "Файл со сносками не пригоден: ",00      ; { 14 }
DB   "Дисковод не готов к работе: ",00            ; { 15 }
DB   "Диск защищен от записи",00                ; { 16 }
DB   "Макро не существует : ",00             ; { 17 }
DB   "Ошибка при записи на диск ",00               ; { 18 }
DB   "Принтер не готов к работе",00       ; { 19 }
DB   " ",00                               ; { 20 }
DB   "Переименование не удалось",00            ; { 21 }
DB   "Имя файла занято: ",00              ; { 22 }
DB   "Ошибка OVR файла ",00                   ; { 23 }
DB   "Не пригодный файл : ",00           ; { 24 }
DB   "Имена файлов совпадают",00               ; { 25 }
DB   "Ошибка при работе с файлом ",00             ; { 26 }
DB   "Не пригодная скорость связи: ",00       ; { 27 }
DB   "Файл не список адресов: ",00              ; { 28 }
DB   "Плохое условие: ",00            ; { 29 }
DB   "Неизвестная видео-плата !",00       ; { 30 }
DB   "Ошибка жесткого диска !",00               ; { 31 }
DB   "Диск не форматирован!",00              ; { 32 }
DB   "Ошибка при работе с диском !",00            ; { 33 }
DB   "Не пригодное имя файла : ",00                ; { 34 }
DB   "Киадваны-филе хианызик : ",00       ; { 35 }
DB   "Ърес киадваны : ",00                ; { 36 }
DB   "Киадваны бетелт, Кимарадт: ",00     ; { 37 }
DB   "Киадваныба нем йв филе : ",00       ; { 38 }
DB   "Нинцс мегныитотт киадваны !",00     ; { 39 }
DB   "Ошибка при загрузке лазер-фонта !",00     ; { 40 }
DB   "Файл только читается : ",00        ; { 41 }
DB   "Индексная строка потеряна !",00     ; { 42 }
DB   "Ошибка в сети !",00                                ; { 43 }
DB   "Нет права доступа в сети !",00          ; { 44 }
DB   "Все места в сети заняты !",00             ; { 45 }
DB   "Снова вступили в сеть  !",00                   ; { 46 }
DB   " ",00                                              ; { 47 }
DB   " ",00                                              ; { 48 }
DB   "Нужно право супервайзора",00                      ; { 49 }
DB   "Не настоящий пароль : ",00                      ; { 50 }
DB   "Слышком длинное имя файла : ",00                          ; { 51 }
DB   "Слышком длинний тип файла : ",00                     ; { 52 }
DB   "Нет такого файла и каталога на диске !",00             ; { 53 }
DB   "В компьютере нет графической платы !",00               ; { 54 }
DB   "Слышком длинные строки, отрезано",00                     ; { 55 }
; DB   "СЦрЦ ныомтатас цсак ГЫОРС мвдбан ван",00           ; { 56 }
VEGE:

END
